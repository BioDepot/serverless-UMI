{"name": "SplitUpload", "description": "Splits and demuxes fastq files", "docker_image_name": "biodepot/umisplit_gcpupload", "docker_image_tag": "277.0.0-alpine_3.11.3__647bb0db", "priority": "10", "icon": null, "inputs": {"py/reduce": [{"py/type": "collections.OrderedDict"}, {"py/tuple": []}, null, null, {"py/tuple": [{"py/tuple": ["Trigger", {"callback": null, "type": {"py/type": "builtins.str"}}]}, {"py/tuple": ["credentials_file", {"callback": null, "type": {"py/type": "builtins.str"}}]}, {"py/tuple": ["bucket", {"callback": null, "type": {"py/type": "builtins.str"}}]}, {"py/tuple": ["cloud_dir", {"callback": null, "type": {"py/type": "builtins.str"}}]}, {"py/tuple": ["outputdir", {"callback": null, "type": {"py/type": "builtins.str"}}]}, {"py/tuple": ["barcode", {"callback": null, "type": {"py/type": "builtins.str"}}]}]}]}, "outputs": {"py/reduce": [{"py/type": "collections.OrderedDict"}, {"py/tuple": []}, null, null, {"py/tuple": [{"py/tuple": ["outputdir", {"default": null, "type": {"py/type": "builtins.str"}}]}, {"py/tuple": ["cloud_dir", {"default": null, "type": {"py/type": "builtins.str"}}]}, {"py/tuple": ["bucket", {"default": null, "type": {"py/type": "builtins.str"}}]}]}]}, "volumes": null, "ports": null, "parameters": {"py/reduce": [{"py/type": "collections.OrderedDict"}, {"py/tuple": []}, null, null, {"py/tuple": [{"py/tuple": ["credentials_file", {"default": "/data/credentials.json", "flag": null, "label": "Credentials file", "type": "file", "env": "CREDENTIALS"}]}, {"py/tuple": ["cloud_dir", {"flag": null, "label": "Cloud upload directory", "type": "str", "env": "CLOUD_DIR"}]}, {"py/tuple": ["bucket", {"flag": null, "label": "Bucket name", "type": "str", "env": "BUCKET"}]}, {"py/tuple": ["split_threads", {"default": 1, "flag": "-t ", "label": "Threads for split", "type": "int", "env": "SPLIT_THREADS"}]}, {"py/tuple": ["File", {"flag": null, "argument": true, "label": "Fastq files", "type": "file list"}]}, {"py/tuple": ["barcode", {"flag": "-b ", "label": "Barcode file", "type": "file"}]}, {"py/tuple": ["outputdir", {"default": "/data", "flag": "-o ", "label": "Output directory", "type": "directory", "env": "OUTPUTDIR"}]}, {"py/tuple": ["filter", {"flag": "-f ", "label": "Discard reads with ambiguous UMI and barcode", "type": "bool"}]}, {"py/tuple": ["compress", {"flag": "-z ", "label": "Compress output", "type": "bool"}]}, {"py/tuple": ["maxsize", {"default": 100000, "flag": "-s ", "label": "Max output file size (kB)", "type": "int"}]}, {"py/tuple": ["length", {"default": 16, "flag": "-l ", "label": "UMI length", "type": "int"}]}, {"py/tuple": ["minqual", {"default": 10, "flag": "-q ", "label": "Min quality score", "type": "int"}]}, {"py/tuple": ["maxmismatch", {"default": 0, "flag": "-m ", "label": "Max barcode mismatches", "type": "int"}]}, {"py/tuple": ["nwells", {"default": 96, "flag": null, "label": "Numboer of wells (96 or 384)", "type": "int", "env": "NWELLS"}]}, {"py/tuple": ["upload_threads", {"default": 2, "flag": null, "label": "Threads for upload (before split)", "type": "int", "env": "UPLOAD_THREADS"}]}, {"py/tuple": ["upload_threads_after", {"default": 4, "flag": null, "label": "Threads for upload (after split)", "type": "int", "env": "UPLOAD_THREADS_AFTER"}]}, {"py/tuple": ["done_file", {"flag": "-d ", "label": "Write a file to indicate split is completed", "type": "bool"}]}, {"py/tuple": ["nfiles", {"default": 12, "flag": null, "label": "Number of fastq files", "type": "int", "env": "NFILES"}]}]}]}, "command": ["umisplit_gcpupload.sh "], "autoMap": true, "persistentSettings": "all", "requiredParameters": ["credentials_file", "cloud_dir", "bucket", "split_threads", "File", "barcode", "outputdir", "maxsize", "length", "minqual", "upload_threads", "upload_threads_after", "nfiles"]}